<!DOCTYPE html>
<html lang="en">
  <%- include('./partials/head') %>

  <body class="home">
    <%- include('./partials/header') %>
    <!-- principal -->
    <main class="home__main">
      <!-- banner -->
      <section class="home__main__section--banner">
        <div
          id="carouselExampleIndicators"
          class="carousel slide"
          data-bs-ride="carousel"
        >
          <div class="carousel-indicators">
            <button
              type="button"
              data-bs-target="#carouselExampleIndicators"
              data-bs-slide-to="0"
              class="active"
              aria-current="true"
              aria-label="Slide 1"
            ></button>
            <button
              type="button"
              data-bs-target="#carouselExampleIndicators"
              data-bs-slide-to="1"
              aria-label="Slide 2"
            ></button>
            <button
              type="button"
              data-bs-target="#carouselExampleIndicators"
              data-bs-slide-to="2"
              aria-label="Slide 3"
            ></button>
          </div>
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img
                src="/images/img-banner.jpg"
                class="d-block w-100"
                alt="..."
              />
            </div>
            <div class="carousel-item">
              <img
                src="/images/img-banner2.jpeg"
                class="d-block w-100"
                alt="..."
              />
            </div>
            <div class="carousel-item">
              <img
                src="/images/img-banner3.jpeg"
                class="d-block w-100"
                alt="..."
              />
            </div>
          </div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide="prev"
          >
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide="next"
          >
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </section>
      <h2>Ultimos agregados</h2>
      <hr />
      <section class="home__main__section--productos">
        <% newCourses.forEach(({images,imgStatus,title,id}) => { %>
          <%- include('./partials/courseArticle',{
            title,
            id,
            images,
            imgStatus
          }) %> 
        <% }) %>
      </section>
      <h2>Productos en Oferta</h2>
      <hr />
      <section class="home__main__section--productos">
        <% oferCourses.forEach(({id,title,images,imgStatus})=> { %>
          <%- include('./partials/courseArticle',{
            id,
            title,
            images,
            imgStatus
          })  %> 
        <% }) %>
      </section>

      <section class="home__main__section--courses">
        <div class="glider-contain">
          <div class="glider">
            <% courses.forEach(({title,images,id}) => { %>
              <a href="/courses/detail/<%= id %>">
                <div class="card carousel-courses-item" style="height: 40vh;">
                  <img src="/images/courses/<%= images.length ? images[0].name : 'image-not-available.png' %>" class="card-img-top" alt="...">
                  <div class="card-body">
                    <h5 class="card-title text-dark"><%= title %></h5>
                  </div>
                </div>
              </a>
            <% }) %>
          </div>

          <button aria-label="Previous" class="glider-prev">«</button>
          <button aria-label="Next" class="glider-next">»</button>
          <div role="tablist" class="dots"></div>
        </div>
      </section>
      <%- include('./partials/whatsapp') %>
    </main>
    <%- include('./partials/footer') %>

    <!-- bootstrap -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>

    <!-- glider -->
    <script src="https://cdn.jsdelivr.net/npm/glider-js@1/glider.min.js"></script>

    <script>
      new Glider(document.querySelector(".glider"), {
        slidesToShow: 1,
        slidesToScroll: 1,
        draggable: true,
        dots: ".dots",
        arrows: {
          prev: ".glider-prev",
          next: ".glider-next",
        },
        responsive: [
          {
            // screens greater than >= 768px
            breakpoint: 768,
            settings: {
              // Set to `auto` and provide item width to adjust to viewport
              slidesToShow: 3,
              slidesToScroll: 1,
              itemWidth: 150,
              duration: 0.25,
            },
          },
          {
            // screens greater than >= 1024px
            breakpoint: 1024,
            settings: {
              slidesToShow: 4,
              slidesToScroll: 1,
              itemWidth: 150,
              duration: 0.25,
            },
          },
        ],
      });
    </script>
  </body>
</html>
