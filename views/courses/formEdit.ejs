<!DOCTYPE html>
<html lang="es">
  <%- include('../partials/head',{ title: 'Agregar Producto' }) %>

  <body class="form">
    <%- include('../partials/header') %>
    <!-- principal -->
    <main class="form__main">
      <h2>Formulario: Editar Producto</h2>
      <hr />
      <form action="/courses/update/<%= id %>?_method=PUT" method="post" enctype="multipart/form-data">
        <div class="forms-add">
          <div class="form__box">
            <label for="title">Titulo del curso:</label>
            <input type="text" name="title" id="title" placeholder="Titulo del curso" value="<%= title %>"/>
            <small class="text-danger ms-2"><%= locals.errors && errors.title ? errors.title.msg : null%></small>
          </div>
          <div class="form__box">
            <label for="price">Precio</label>
            <input type="number" name="price" id="price" value="<%= price %>"/>
            <small class="text-danger ms-2">
              <%= locals.errors && errors.price ? errors.price.msg : null%>
            </small>
          </div>
          <div class="form__box">
            <label for="chef">Chef</label>
            <select name="chef" id="chef">
              <% chefs.forEach(({name}) => { %>
              <option value="<%= name %>"<%= chef === name && 'selected'%>><%= name %></option>
              <% }) %>
            </select>
            <small class="text-danger ms-2"
            ><%= locals.errors && errors.chef ? errors.chef.msg :
            null%></small>
          </div>
          <div class="form__box">
            <label for="description">Descripcion</label>
            <textarea class="form__box__textarea" name="description" id="description"><%= description %></textarea>
            <small class="text-danger ms-2">
              <%= locals.errors && errors.description ? errors.description.msg : null %>
            </small>
          </div>
          <div class="d-flex justify-content-around">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="section" id="new" <%= status === 'newest' && 'checked'%>>
                <label class="form-check-label" for="new">
                  Nuevo
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="section" id="sale" <%= status === 'descuento' &&  'checked'%>>
                <label class="form-check-label" for="sale">
                  Oferta
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="section" id="free" <%= status === 'gratis' && 'checked'%>>
                <label class="form-check-label" for="free">
                  Gratis
                </label>
              </div>
          </div>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" role="switch" id="visible" name="visible" 
            <%= visible && 'checked'%>
            >
            <label class="form-check-label" for="visible">Visible</label>
          </div>
          <div class="col-12 mb-3">
            <label for="images" class="form-label">Imagenes</label>
            <input type="file" class="form-control" id="images" name="images" multiple/>
            <small class="text-danger ms-2">
              <%= locals.errors && errors.image ? errors.image.msg : null %>
            </small>
          </div>
          <div class="d-flex justify-content-end">
            <button type="submit" class="btn btn-dark">Guardar Cambios</button>
          </div>
        </div>
      </form>
    </main>
    <%- include('../partials/footer') %>
  </body>
</html>
